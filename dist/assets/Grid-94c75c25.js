import{ac as Q,h0 as re,p as S,r as C,x as ie,F as ae,d as X,I as oe,bs as _,h as N,gz as ne,g as le,bq as B,v as pe,E as ue,t as H,H as de,A as W,av as fe,as as ve,ax as J,__tla as ce}from"./index-2c8f1a32.js";import{g as he,__tla as me}from"./Space-8d52484b.js";let K,U,P,Se=Promise.all([(()=>{try{return ce}catch{}})(),(()=>{try{return me}catch{}})()]).then(async()=>{let D=[];const k=new WeakMap;function V(){D.forEach(e=>e(...k.get(e))),D=[]}P=function(e,...t){k.set(e,t),!D.includes(e)&&D.push(e)===1&&requestAnimationFrame(V)};function Y(e){if(typeof e=="number")return{"":e.toString()};const t={};return e.split(/ +/).forEach(i=>{if(i==="")return;const[r,s]=i.split(":");s===void 0?t[""]=r:t[r]=s}),t}function $(e,t){var i;if(e==null)return;const r=Y(e);if(t===void 0)return r[""];if(typeof t=="string")return(i=r[t])!==null&&i!==void 0?i:r[""];if(Array.isArray(t)){for(let s=t.length-1;s>=0;--s){const a=t[s];if(a in r)return r[a]}return r[""]}else{let s,a=-1;return Object.keys(r).forEach(o=>{const n=Number(o);!Number.isNaN(n)&&t>=n&&n>=a&&(a=n,s=r[o])}),s}}function Z(e){var t;const i=(t=e.dirs)===null||t===void 0?void 0:t.find(({dir:r})=>r===Q);return!!(i&&i.value===!1)}const ee={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function te(e){return`(min-width: ${e}px)`}const x={};function se(e=ee){if(!re)return S(()=>[]);if(typeof window.matchMedia!="function")return S(()=>[]);const t=C({}),i=Object.keys(e),r=(s,a)=>{s.matches?t.value[a]=!0:t.value[a]=!1};return i.forEach(s=>{const a=e[s];let o,n;x[a]===void 0?(o=window.matchMedia(te(a)),o.addEventListener?o.addEventListener("change",d=>{n.forEach(p=>{p(d,s)})}):o.addListener&&o.addListener(d=>{n.forEach(p=>{p(d,s)})}),n=new Set,x[a]={mql:o,cbs:n}):(o=x[a].mql,n=x[a].cbs),n.add(r),o.matches&&n.forEach(d=>{d(o,s)})}),ie(()=>{i.forEach(s=>{const{cbs:a}=x[e[s]];a.has(r)&&a.delete(r)})}),S(()=>{const{value:s}=t;return i.filter(a=>s[a])})}let O,I,L,q,z,M,A,T;O=1,I=ae("n-grid"),L=1,q={span:{type:[Number,String],default:L},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},K=X({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:q,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:i,overflowRef:r,layoutShiftDisabledRef:s}=oe(I),a=ne();return{overflow:r,itemStyle:i,layoutShiftDisabled:s,mergedXGap:S(()=>_(t.value||0)),deriveStyle:()=>{e.value;const{privateSpan:o=L,privateShow:n=!0,privateColStart:d=void 0,privateOffset:p=0}=a.vnode.props,{value:R}=t,y=_(R||0);return{display:n?"":"none",gridColumn:`${d??`span ${o}`} / span ${o}`,marginLeft:p?`calc((100% - (${o} - 1) * ${y}) / ${o} * ${p} + ${y} * ${p})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:i,offset:r,mergedXGap:s}=this;return N("div",{style:{gridColumn:`span ${i} / span ${i}`,marginLeft:r?`calc((100% - (${i} - 1) * ${s}) / ${i} * ${r} + ${s} * ${r})`:""}},this.$slots)}return N("div",{style:[this.itemStyle,this.deriveStyle()]},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e,{overflow:this.overflow}))}}),z={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},M=24,A="__ssr__",T={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:M},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},U=X({name:"Grid",inheritAttrs:!1,props:T,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:i}=le(e),r=/^\d+$/,s=C(void 0),a=se((i==null?void 0:i.value)||z),o=B(()=>!!(e.itemResponsive||!r.test(e.cols.toString())||!r.test(e.xGap.toString())||!r.test(e.yGap.toString()))),n=S(()=>{if(o.value)return e.responsive==="self"?s.value:a.value}),d=B(()=>{var u;return(u=Number($(e.cols.toString(),n.value)))!==null&&u!==void 0?u:M}),p=B(()=>$(e.xGap.toString(),n.value)),R=B(()=>$(e.yGap.toString(),n.value)),y=u=>{s.value=u.contentRect.width},c=u=>{P(y,u)},G=C(!1),g=S(()=>{if(e.responsive==="self")return c}),f=C(!1),h=C();return pe(()=>{const{value:u}=h;u&&u.hasAttribute(A)&&(u.removeAttribute(A),f.value=!0)}),ue(I,{layoutShiftDisabledRef:H(e,"layoutShiftDisabled"),isSsrRef:f,itemStyleRef:H(e,"itemStyle"),xGapRef:p,overflowRef:G}),{isSsr:!de,contentEl:h,mergedClsPrefix:t,style:S(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:_(e.xGap),rowGap:_(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${d.value}, minmax(0, 1fr))`,columnGap:_(p.value),rowGap:_(R.value)}),isResponsive:o,responsiveQuery:n,responsiveCols:d,handleResize:g,overflow:G}},render(){if(this.layoutShiftDisabled)return N("div",W({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var t,i,r,s,a,o,n;this.overflow=!1;const d=ve(he(this)),p=[],{collapsed:R,collapsedRows:y,responsiveCols:c,responsiveQuery:G}=this;d.forEach(l=>{var E,m,v,b;if(((E=l==null?void 0:l.type)===null||E===void 0?void 0:E.__GRID_ITEM__)!==!0)return;if(Z(l)){const w=J(l);w.props?w.props.privateShow=!1:w.props={privateShow:!1},p.push({child:w,rawChildSpan:0});return}l.dirs=((m=l.dirs)===null||m===void 0?void 0:m.filter(({dir:w})=>w!==Q))||null;const j=J(l),F=Number((b=$((v=j.props)===null||v===void 0?void 0:v.span,G))!==null&&b!==void 0?b:O);F!==0&&p.push({child:j,rawChildSpan:F})});let g=0;const f=(t=p[p.length-1])===null||t===void 0?void 0:t.child;if(f!=null&&f.props){const l=(i=f.props)===null||i===void 0?void 0:i.suffix;l!==void 0&&l!==!1&&(g=(s=(r=f.props)===null||r===void 0?void 0:r.span)!==null&&s!==void 0?s:O,f.props.privateSpan=g,f.props.privateColStart=c+1-g,f.props.privateShow=(a=f.props.privateShow)!==null&&a!==void 0?a:!0)}let h=0,u=!1;for(const{child:l,rawChildSpan:E}of p){if(u&&(this.overflow=!0),!u){const m=Number((n=$((o=l.props)===null||o===void 0?void 0:o.offset,G))!==null&&n!==void 0?n:0),v=Math.min(E+m,c);if(l.props?(l.props.privateSpan=v,l.props.privateOffset=m):l.props={privateSpan:v,privateOffset:m},R){const b=h%c;v+b>c&&(h+=c-b),v+h+g>y*c?u=!0:h+=v}}u&&(l.props?l.props.privateShow!==!0&&(l.props.privateShow=!1):l.props={privateShow:!1})}return N("div",W({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[A]:this.isSsr||void 0},this.$attrs),p.map(({child:l})=>l))};return this.isResponsive&&this.responsive==="self"?N(fe,{onResize:this.handleResize},{default:e}):e()}})});export{K as _,Se as __tla,U as a,P as b};
